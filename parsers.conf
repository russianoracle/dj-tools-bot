[PARSER]
    Name        docker
    Format      json
    Time_Key    time
    Time_Format %Y-%m-%dT%H:%M:%S.%L%z
    Time_Keep   On
    # Decode escaped JSON in log field (3-step process)
    Decode_Field_As escaped log do_next
    Decode_Field_As escaped_utf8 log do_next
    Decode_Field_As json log

[PARSER]
    Name        json
    Format      json
    Time_Keep   On

# Multiline parser for Python tracebacks (preserves full exception traces)
[MULTILINE_PARSER]
    Name          python_traceback
    Type          regex
    Flush_Timeout 1000
    # Match "Traceback (most recent call last):"
    Rule          "start_state"   "/^Traceback \(most recent call last\):$/"  "traceback"
    # Match "  File..." and "    ..." continuation lines
    Rule          "traceback"     "/^  (File|    ).*/"                        "traceback"
    # Match exception line "ExceptionName: message"
    Rule          "traceback"     "/^[A-Za-z][A-Za-z0-9_\.]*:.*/"             "cont"