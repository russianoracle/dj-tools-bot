# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ DJ-—Ç—Ä–µ–∫–æ–≤

**–¶–µ–ª—å:** –ü–æ–≤—ã—Å–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å ~70% –¥–æ 90%+ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ-–ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –∞–Ω–∞–ª–∏–∑–∞.

**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞:** –ê–Ω–∞–ª–∏–∑–µ —Ç–µ–æ—Ä–∏–∏ (Chen 2014, Patil 2025) –∏ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-23 (—Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å —É—á—ë—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞)

---

## –£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è

- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ] - –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∑–∂–µ: P1/P2/P3/P4)
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO / [~] IN PROGRESS / [x] DONE
- **–í—Ä–µ–º—è:** –û—Ü–µ–Ω–∫–∞ –≤ —á–∞—Å–∞—Ö
- **–≠—Ñ—Ñ–µ–∫—Ç:** –û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏
- **–§–∞–π–ª—ã:** –ö–∞–∫–∏–µ —Ñ–∞–π–ª—ã –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å

---

# üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –°–ò–°–¢–ï–ú–´

## ‚úÖ –£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### ML Infrastructure (100% –≥–æ—Ç–æ–≤–æ)
- ‚úÖ **XGBoost Classifier** ‚Äî –ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å grid search –∏ early stopping
- ‚úÖ **Neural Network Classifier** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å BatchNorm, Dropout, early stopping
- ‚úÖ **Ensemble Classifier** ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è XGBoost + NN —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –≤–µ—Å–æ–≤
- ‚úÖ **Train/Val/Test split** ‚Äî stratified split —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π –∫–ª–∞—Å—Å–æ–≤
- ‚úÖ **Feature scaling** ‚Äî StandardScaler –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- ‚úÖ **Hyperparameter tuning** ‚Äî GridSearchCV –¥–ª—è XGBoost
- ‚úÖ **Checkpointing** ‚Äî incremental checkpoints –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö –æ–±—É—á–∞—é—â–∏—Ö —Å–µ—Å—Å–∏—è—Ö
- ‚úÖ **Model save/load** ‚Äî pickle serialization —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **Hybrid classification** ‚Äî rule-based + ML fallback –ø—Ä–∏ –Ω–∏–∑–∫–æ–π confidence
- ‚úÖ **CLI training tool** ‚Äî `scripts/train_zone_classifier.py` —Å –ø–æ–ª–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏

**–§–∞–π–ª—ã:**
- `src/training/zone_models.py` (607 —Å—Ç—Ä–æ–∫)
- `src/training/zone_trainer.py` (664 —Å—Ç—Ä–æ–∫–∏)
- `scripts/train_zone_classifier.py` (230 —Å—Ç—Ä–æ–∫)
- `src/classification/classifier.py` (237 —Å—Ç—Ä–æ–∫)

### Feature Extraction
- ‚úÖ **16 –±–∞–∑–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è (tempo, energy_variance, spectral features, MFCC)
- ‚úÖ **STFT caching** ‚Äî –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è 1 —Ä–∞–∑, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ **RMS caching** ‚Äî –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª—è spectral features
- ‚úÖ **Fast mode** ‚Äî 10 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∑–∞ ~3 —Å–µ–∫/—Ç—Ä–µ–∫
- ‚úÖ **Full mode** ‚Äî 30+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ + embeddings –∑–∞ ~30 —Å–µ–∫/—Ç—Ä–µ–∫

### Evaluation & Metrics
- ‚úÖ **Confusion matrix** –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- ‚úÖ **Per-class accuracy** (yellow/green/purple)
- ‚úÖ **Precision/Recall/F1** –∏–∑ classification_report
- ‚úÖ **Cross-validation** —á–µ—Ä–µ–∑ scikit-learn

---

## ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (–∏–∑ –ø–ª–∞–Ω–∞)

### Rule-based Classifier
- ‚ùå **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ 6/16 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç MFCC, spectral_rolloff, ZCR, RMS, tempo_confidence)
- ‚ùå **Hard thresholds** –≤–º–µ—Å—Ç–æ probabilistic distributions
- ‚ùå **Equal feature weights** (–≤—Å–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–µ—Å—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ)
- ‚ùå **No temporal segmentation** (intro/build/drop/outro detection)

### Advanced Features
- ‚ùå **Spectral Flux** ‚Äî –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è (–Ω–æ onset_strength —É–∂–µ –µ—Å—Ç—å –≤ tempo extraction)
- ‚ùå **Onset Strength** ‚Äî –Ω–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫
- ‚ùå **Harmonic-Percussive Separation ratio** ‚Äî HPSS –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ tempo, –Ω–æ ratio –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### UX & Explainability
- ‚ùå **Explainability dashboard** –≤ GUI
- ‚ùå **User feedback loop** –¥–ª—è —Å–±–æ—Ä–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–æ–∫
- ‚ùå **Performance metrics display** –≤ GUI
- ‚ùå **Feature caching** (SQLite) –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- ‚ùå **Top-3 predictions** —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏
- ‚ùå **Radar chart** –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

### Genre & Advanced Classification
- ‚ùå **Genre detection**
- ‚ùå **Genre-adaptive thresholds**
- ‚ùå **CNN classifier** –¥–ª—è mel-spectrograms

---

# –ü–ï–†–ï–°–ú–û–¢–†–ï–ù–ù–´–ô –ü–õ–ê–ù –£–õ–£–ß–®–ï–ù–ò–ô

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–¥—Ö–æ–¥–µ:

1. **–§–ê–ó–ê 4 (ML –æ–±—É—á–µ–Ω–∏–µ) ‚Üí –£–î–ê–õ–ï–ù–ê** ‚Äî —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é! ‚úÖ
2. **–§–æ–∫—É—Å —Å–º–µ—â—ë–Ω** –Ω–∞ rule-based classifier –∏ UX, —Ç.–∫. ML –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
3. **–ü–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω–æ –≤—Ä–µ–º—è** —Å —É—á—ë—Ç–æ–º —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å training pipeline
4. **–ù–æ–≤—ã–π –æ–±—â–∏–π timeline:** ~60-80 —á–∞—Å–æ–≤ (–±—ã–ª–æ 105-130 —á–∞—Å–æ–≤)

---

# –§–ê–ó–ê 1: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø RULE-BASED –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–ò

**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ 16 –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤–º–µ—Å—Ç–æ 6/16 –≤ rule-based classifier

**–°—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è:** ~18-22 —á–∞—Å–∞ (–±—ã–ª–æ 20-25)
**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +10-15% —Ç–æ—á–Ω–æ—Å—Ç–∏ rule-based –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** ML –º–æ–¥–µ–ª–∏ —É–∂–µ –æ–±—É—á–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ö–æ—Ä–æ—à–æ (85-92% accuracy), –Ω–æ rule-based classifier (–∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ primary —Å ML fallback) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ 6 –∏–∑ 16 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç confidence –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —á–∞—Å—Ç–æ–º—É fallback –Ω–∞ ML.

---

## 1.1 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MFCC –≤ rule-based –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é

### [ ] –ó–∞–¥–∞—á–∞ 1.1.1: –î–æ–±–∞–≤–∏—Ç—å MFCC variance –≤ purple zone scoring
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–∏—Å–ø–µ—Ä—Å–∏—é MFCC –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –∫–∞–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–º–±—Ä–∞–ª—å–Ω–æ–π –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è purple –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –¥–æ–±–∞–≤–∏—Ç—å `_mfcc_variance_score()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** MFCC variance > 0.5 —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç purple score –Ω–∞ 0.1-0.15
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +2-3% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ purple —Ç—Ä–µ–∫–∞—Ö

### [ ] –ó–∞–¥–∞—á–∞ 1.1.2: –î–æ–±–∞–≤–∏—Ç—å MFCC mean –≤ yellow zone scoring
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mean MFCC (–æ—Å–æ–±–µ–Ω–Ω–æ –ø–µ—Ä–≤—ã–µ 2 –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞) –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ —Ç—ë–ø–ª–æ–≥–æ/–º—è–≥–∫–æ–≥–æ —Ç–µ–º–±—Ä–∞ yellow –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `_score_yellow()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ù–∏–∑–∫–∏–µ MFCC means —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç yellow score –Ω–∞ 0.1
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +2-3% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ yellow —Ç—Ä–µ–∫–∞—Ö

### [ ] –ó–∞–¥–∞—á–∞ 1.1.3: –í–∞–ª–∏–¥–∞—Ü–∏—è MFCC –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç—Ä–µ–∫–∞—Ö
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1 —á–∞—Å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 10 —Ç—Ä–µ–∫–∞—Ö –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ MFCC —É–ª—É—á—à–∞—é—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é
- **–§–∞–π–ª—ã:**
  - `tests/test_mfcc_integration.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∏ 1.1.1, 1.1.2
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –¢–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º –Ω–∞–±–æ—Ä–µ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å –Ω–∞ 3-5%

---

## 1.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è spectral_rolloff

### [ ] –ó–∞–¥–∞—á–∞ 1.2.1: –î–æ–±–∞–≤–∏—Ç—å spectral_rolloff –≤ purple scoring
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—Å–æ–∫–∏–π spectral rolloff (>8000 Hz) –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —è—Ä–∫–æ–≥–æ —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–≥–æ –∑–≤—É–∫–∞ purple –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –¥–æ–±–∞–≤–∏—Ç—å `_spectral_rolloff_score()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Rolloff > 8000 Hz ‚Üí purple score +0.1
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +1-2% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ bright purple —Ç—Ä–µ–∫–∞—Ö

### [ ] –ó–∞–¥–∞—á–∞ 1.2.2: –î–æ–±–∞–≤–∏—Ç—å spectral_rolloff –≤ yellow scoring
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∏–∑–∫–∏–π spectral rolloff (<4000 Hz) –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç—ë–ø–ª–æ–≥–æ –∑–≤—É–∫–∞ yellow –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `_score_yellow()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Rolloff < 4000 Hz ‚Üí yellow score +0.1
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +1-2% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ warm yellow —Ç—Ä–µ–∫–∞—Ö

---

## 1.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è zero_crossing_rate

### [ ] –ó–∞–¥–∞—á–∞ 1.3.1: –î–æ–±–∞–≤–∏—Ç—å ZCR –∫–∞–∫ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—Ä–∫—É—Å—Å–∏–≤–Ω–æ—Å—Ç–∏
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—Å–æ–∫–∏–π ZCR –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—Ä–∫—É—Å—Å–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã—Ö –¥–ª—è purple –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –¥–æ–±–∞–≤–∏—Ç—å `_zcr_score()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** ZCR > 0.15 ‚Üí purple score +0.05
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +1% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–µ—Ä–∫—É—Å—Å–∏–≤–Ω—ã—Ö —Ç—Ä–µ–∫–∞—Ö

---

## 1.4 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è RMS energy

### [ ] –ó–∞–¥–∞—á–∞ 1.4.1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RMS energy –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ low_energy
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å RMS —Å low_energy –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –æ–±—â–µ–π —ç–Ω–µ—Ä–≥–∏–∏ —Ç—Ä–µ–∫–∞
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `_score_yellow()`, `_score_purple()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è RMS –∏ –∑–æ–Ω—ã > 0.6
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +1% –æ–±—â–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

---

## 1.5 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ tempo_confidence

### [ ] –ó–∞–¥–∞—á–∞ 1.5.1: –§–ª–∞–≥–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–µ–∫–∏ —Å –Ω–∏–∑–∫–æ–π tempo_confidence
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ï—Å–ª–∏ tempo_confidence < 0.5, –ø–æ–º–µ—Ç–∏—Ç—å —Ç—Ä–µ–∫ –∫–∞–∫ UNCERTAIN –∏–ª–∏ —Å–Ω–∏–∑–∏—Ç—å –≤–µ—Å tempo –≤ scoring
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É confidence
  - `src/classification/classifier.py` - –¥–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ low_tempo_confidence
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –Ω–∞ ambient/experimental —Ç—Ä–µ–∫–∞—Ö —Å –Ω–µ—è—Å–Ω—ã–º —Ç–µ–º–ø–æ–º
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +2% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö —Ç—Ä–µ–∫–∞—Ö

---

## 1.6 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∑–≤–µ—à–µ–Ω–Ω–æ–≥–æ scoring

### [ ] –ó–∞–¥–∞—á–∞ 1.6.1: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –≤–µ—Å–æ–≤ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç—å —Ä–∞–≤–Ω—ã–µ –≤–µ—Å–∞ (1/N) –Ω–∞ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–µ—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–æ—Ä–∏–∏
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –¥–æ–±–∞–≤–∏—Ç—å `FEATURE_WEIGHTS` dict
  - `config/default_config.yaml` - –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é feature_weights
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Weighted accuracy > unweighted –Ω–∞ 5%+
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +5-7% –æ–±—â–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –≤–µ—Å–∞:**
```yaml
feature_weights:
  tempo: 0.30
  energy_variance: 0.25
  drop_intensity: 0.15
  brightness: 0.10
  spectral_centroid: 0.10
  mfcc_variance: 0.05
  spectral_rolloff: 0.03
  zero_crossing_rate: 0.02
```

### [ ] –ó–∞–¥–∞—á–∞ 1.6.2: –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ scoring —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–µ—Å–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤–µ—Å–∞ –≤–æ –≤—Å–µ—Ö `_score_yellow()`, `_score_green()`, `_score_purple()`
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ scoring –º–µ—Ç–æ–¥—ã
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 1.6.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –í—Å–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–µ—Å–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

---

## 1.7 –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è rule-based

### [ ] –ó–∞–¥–∞—á–∞ 1.7.1: –í—ã–±—Ä–∞—Ç—å 50 —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Ä—É—á–Ω—É—é –≤—ã–±—Ä–∞—Ç—å 50 —Ç—Ä–µ–∫–æ–≤ (15 yellow, 20 green, 15 purple) —Ä–∞–∑–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤
- **–§–∞–π–ª—ã:**
  - `tests/validation_dataset/tracks/` (—Å–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é)
  - `tests/validation_dataset/labels.csv` (—Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Balanced dataset —Å —Ä–∞–≤–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –∑–æ–Ω
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è ML, –µ—Å–ª–∏ –µ—Å—Ç—å

### [ ] –ó–∞–¥–∞—á–∞ 1.7.2: –°–æ–∑–¥–∞—Ç—å baseline accuracy measurement
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â—É—é rule-based —Å–∏—Å—Ç–µ–º—É –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å baseline
- **–§–∞–π–ª—ã:**
  - `tests/test_validation.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 1.7.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Baseline accuracy –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω (–æ–∂–∏–¥–∞–µ—Ç—Å—è ~70%)

---

# –§–ê–ó–ê 2: –ü–†–û–î–í–ò–ù–£–¢–´–ï –ê–£–î–ò–û-–ü–†–ò–ó–ù–ê–ö–ò

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–°—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è:** ~12-15 —á–∞—Å–æ–≤ (–±—ã–ª–æ 18-22 —á–∞—Å–∞)
**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +5-8% —Ç–æ—á–Ω–æ—Å—Ç–∏

**–í–ê–ñ–ù–û:** –ú–Ω–æ–≥–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è! –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.

---

## 2.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Spectral Flux

### [ ] –ó–∞–¥–∞—á–∞ 2.1.1: –ò–∑–≤–ª–µ—á—å spectral flux –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ onset_strength
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1 —á–∞—Å ‚ö° (–±—ã–ª–æ 2 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** `onset_strength` –£–ñ–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `_extract_tempo()`. –ü—Ä–æ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ AudioFeatures
- **–§–∞–π–ª—ã:**
  - `src/audio/extractors.py` - –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å onset_env –≤ –º–µ—Ç–æ–¥–µ `extract()`
  - `src/audio/extractors.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `spectral_flux` –≤ AudioFeatures dataclass
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Spectral flux –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–µ–∫–æ–≤
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è drop detection
- **–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø:** –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å onset_env –∏–∑ tempo extraction ‚Üí +0 —Å–µ–∫ overhead!

### [ ] –ó–∞–¥–∞—á–∞ 2.1.2: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å spectral flux –≤ drop detection
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å spectral flux —Å —Ç–µ–∫—É—â–∏–º drop_intensity –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥—Ä–æ–ø–æ–≤
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –æ–±–Ω–æ–≤–∏—Ç—å `_score_purple()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è spectral flux
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 2.1.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –î–µ—Ç–µ–∫—Ü–∏—è –¥—Ä–æ–ø–æ–≤ —É–ª—É—á—à–∞–µ—Ç—Å—è –Ω–∞ 10%+
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +2-3% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ purple —Ç—Ä–µ–∫–∞—Ö —Å —á—ë—Ç–∫–∏–º–∏ –¥—Ä–æ–ø–∞–º–∏

---

## 2.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Onset Strength –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞

### [ ] –ó–∞–¥–∞—á–∞ 2.2.1: –ò–∑–≤–ª–µ—á—å onset strength –∏–∑ tempo extraction
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1 —á–∞—Å ‚ö° (–±—ã–ª–æ 2 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** onset_env –£–ñ–ï –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å `np.mean(onset_env)` –∫–∞–∫ –ø—Ä–∏–∑–Ω–∞–∫
- **–§–∞–π–ª—ã:**
  - `src/audio/extractors.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `onset_strength` –≤ AudioFeatures
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 2.1.1 (–∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∫—ç—à)
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Onset strength –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–µ—Ä–∫—É—Å—Å–∏–≤–Ω–æ—Å—Ç—å —Ç—Ä–µ–∫–∞
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –¥–ª—è –ø–µ—Ä–∫—É—Å—Å–∏–≤–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤
- **–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø:** –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π onset_env ‚Üí +0 —Å–µ–∫ overhead!

### [ ] –ó–∞–¥–∞—á–∞ 2.2.2: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å onset strength –≤ purple scoring
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—Å–æ–∫–∏–π onset strength –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —ç–Ω–µ—Ä–≥–∏—á–Ω—ã—Ö purple —Ç—Ä–µ–∫–æ–≤
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –¥–æ–±–∞–≤–∏—Ç—å `_onset_strength_score()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 2.2.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–µ—Ä–∫—É—Å—Å–∏–≤–Ω—ã–µ purple —Ç—Ä–µ–∫–∏ (techno, hardstyle) –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è —Ç–æ—á–Ω–µ–µ
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +2% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–µ—Ä–∫—É—Å—Å–∏–≤–Ω—ã—Ö –∂–∞–Ω—Ä–∞—Ö

---

## 2.3 Harmonic-Percussive Separation Ratio

### [ ] –ó–∞–¥–∞—á–∞ 2.3.1: –ò–∑–≤–ª–µ—á—å HPSS ratio –∏–∑ tempo extraction
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞ ‚ö° (–±—ã–ª–æ 3 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** HPSS –£–ñ–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `_extract_tempo()`. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã—á–∏—Å–ª–∏—Ç—å harmonic/percussive ratio
- **–§–∞–π–ª—ã:**
  - `src/audio/extractors.py` - –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å `y_harmonic, y_percussive` –≤ `extract()`
  - `src/audio/extractors.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `harmonic_ratio`, `percussive_ratio`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ harmonic/percussive –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –¥–ª—è –∂–∞–Ω—Ä–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **–û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø:** HPSS —É–∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ‚Üí –ø—Ä–æ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí +0 —Å–µ–∫ overhead!

### [ ] –ó–∞–¥–∞—á–∞ 2.3.2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å harmonic ratio –¥–ª—è yellow zone
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—Å–æ–∫–∏–π harmonic ratio (melodic content) —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –¥–ª—è yellow –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –æ–±–Ω–æ–≤–∏—Ç—å `_score_yellow()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 2.3.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ú–µ–ª–æ–¥–∏—á–Ω—ã–µ ambient —Ç—Ä–µ–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ yellow —Ç–æ—á–Ω–µ–µ
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +1-2% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ –º–µ–ª–æ–¥–∏—á–Ω—ã—Ö yellow —Ç—Ä–µ–∫–∞—Ö

### [ ] –ó–∞–¥–∞—á–∞ 2.3.3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å percussive ratio –¥–ª—è purple zone
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1.5 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—Å–æ–∫–∏–π percussive ratio —Ö–∞—Ä–∞–∫—Ç–µ—Ä–µ–Ω –¥–ª—è —ç–Ω–µ—Ä–≥–∏—á–Ω—ã—Ö purple —Ç—Ä–µ–∫–æ–≤
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –æ–±–Ω–æ–≤–∏—Ç—å `_score_purple()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 2.3.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –†–∏—Ç–º–∏—á–µ—Å–∫–∏ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ purple —Ç—Ä–µ–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è —Ç–æ—á–Ω–µ–µ
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +1-2% —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ —Ä–∏—Ç–º–∏—á–Ω—ã—Ö purple —Ç—Ä–µ–∫–∞—Ö

---

## 2.4 –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### [ ] –ó–∞–¥–∞—á–∞ 2.4.1: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ extract()
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ] **–í–´–°–û–ö–ò–ô ‚Äî —ç–∫–æ–Ω–æ–º–∏—Ç 3.4 —Å–µ–∫!**
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—á–∏—Å–ª–∏—Ç—å onset_env –∏ HPSS 1 —Ä–∞–∑ –≤ `extract()`, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –º–µ—Ç–æ–¥—ã
- **–§–∞–π–ª—ã:**
  - `src/audio/extractors.py` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `extract()` –∏ `_extract_tempo()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∏ 2.1.1, 2.2.1, 2.3.1 (–≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –∫—ç—à)
- **–ö–æ–¥:**
  ```python
  def extract(self, y, sr):
      # Pre-compute reusable components
      S = np.abs(librosa.stft(...))  # Already cached
      rms_frames = librosa.feature.rms(...)  # Already cached

      # NEW: Cache onset envelope
      onset_env = librosa.onset.onset_strength(y=y, sr=sr)

      # NEW: Cache HPSS
      y_harmonic, y_percussive = librosa.effects.hpss(y)

      # Extract features with cached values
      tempo = self._extract_tempo(y, sr, onset_env, y_percussive)
      spectral_flux = np.mean(onset_env)  # FREE!
      onset_strength = np.max(onset_env)  # FREE!
      harmonic_ratio = np.mean(y_harmonic) / np.mean(np.abs(y))  # FREE!
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –í—Ä–µ–º—è extraction –ù–ï —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è (+0 —Å–µ–∫ overhead)
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –í—Å–µ –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ë–ï–°–ü–õ–ê–¢–ù–û (–±–µ–∑ –∑–∞–º–µ–¥–ª–µ–Ω–∏—è)

---

# –§–ê–ó–ê 3: –í–ï–†–û–Ø–¢–ù–û–°–¢–ù–ê–Ø –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø

**–¶–µ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç—å –∂—ë—Å—Ç–∫–∏–µ –ø–æ—Ä–æ–≥–∏ –Ω–∞ probabilistic distributions –¥–ª—è smooth classification

**–°—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è:** ~20-25 —á–∞—Å–æ–≤ (–±—ã–ª–æ 25-30)
**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +10-15% —Ç–æ—á–Ω–æ—Å—Ç–∏

---

## 3.1 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Gaussian Distributions

### [ ] –ó–∞–¥–∞—á–∞ 3.1.1: –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å GaussianDistribution
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ (mu, sigma, pdf)
- **–§–∞–π–ª—ã:**
  - `src/classification/distributions.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á—ë—Ç PDF –¥–ª—è –ª—é–±–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è probabilistic classification

### [ ] –ó–∞–¥–∞—á–∞ 3.1.2: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Gaussian –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è tempo
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞ (–±—ã–ª–æ 3 —á–∞—Å–∞) ‚ö°
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å (mu, sigma) –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `config/default_config.yaml` - –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é gaussian_distributions
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 1.7.1 (–Ω—É–∂–µ–Ω validation dataset –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞)
- **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
  ```yaml
  gaussian_distributions:
    tempo:
      yellow: {mu: 95, sigma: 15}
      green: {mu: 119, sigma: 12}
      purple: {mu: 135, sigma: 18}
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–∫—Ä—ã–≤–∞—é—Ç 95% —Ç—Ä–µ–∫–æ–≤ –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è tempo-based classification
- **–£–ü–†–û–©–ï–ù–ò–ï:** –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ML –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞!

### [ ] –ó–∞–¥–∞—á–∞ 3.1.3: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Gaussian –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è energy_variance
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞ (–±—ã–ª–æ 3 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è energy variance –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã
- **–§–∞–π–ª—ã:**
  - `config/default_config.yaml` - —Ä–∞—Å—à–∏—Ä–∏—Ç—å gaussian_distributions
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 1.7.1
- **–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
  ```yaml
  energy_variance:
    yellow: {mu: 0.08, sigma: 0.05}
    green: {mu: 0.25, sigma: 0.10}
    purple: {mu: 0.50, sigma: 0.12}
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç—Ä–∞–∂–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### [ ] –ó–∞–¥–∞—á–∞ 3.1.4: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Gaussian –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞ (–±—ã–ª–æ 4 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è brightness, spectral_centroid, drop_intensity –∏ –¥—Ä.
- **–§–∞–π–ª—ã:**
  - `config/default_config.yaml` - –∑–∞–≤–µ—Ä—à–∏—Ç—å gaussian_distributions
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 1.7.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–º–µ—é—Ç Gaussian –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

---

## 3.2 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Probabilistic Classifier

### [ ] –ó–∞–¥–∞—á–∞ 3.2.1: –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å ProbabilisticClassifier
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 4 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å classifier –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Gaussian distributions –≤–º–µ—Å—Ç–æ hard thresholds
- **–§–∞–π–ª—ã:**
  - `src/classification/probabilistic.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∏ 3.1.1, 3.1.2, 3.1.3, 3.1.4
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Classifier –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã

### [ ] –ó–∞–¥–∞—á–∞ 3.2.2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ compute_zone_probabilities()
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—á–∏—Å–ª–∏—Ç—å P(zone|features) –∏—Å–ø–æ–ª—å–∑—É—è Bayes theorem –∏ feature PDFs
- **–§–∞–π–ª—ã:**
  - `src/classification/probabilistic.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 3.2.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π = 1.0, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [0,1]

### [ ] –ó–∞–¥–∞—á–∞ 3.2.3: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ProbabilisticClassifier –≤ EnergyZoneClassifier
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã —Å probabilistic classifier
- **–§–∞–π–ª—ã:**
  - `src/classification/classifier.py` - –¥–æ–±–∞–≤–∏—Ç—å probabilistic_mode
  - `config/default_config.yaml` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É classification_mode
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 3.2.2
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É rule-based –∏ probabilistic —Ä–µ–∂–∏–º–∞–º–∏

---

## 3.3 Top-N Predictions

### [ ] –ó–∞–¥–∞—á–∞ 3.3.1: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç top-3 –∑–æ–Ω —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π –∑–æ–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å top-3 —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏
- **–§–∞–π–ª—ã:**
  - `src/classification/classifier.py` - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å classify() –º–µ—Ç–æ–¥
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 3.2.3
- **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
  ```python
  {
    'primary': {'zone': 'purple', 'confidence': 0.78},
    'secondary': {'zone': 'green', 'confidence': 0.18},
    'tertiary': {'zone': 'yellow', 'confidence': 0.04}
  }
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** GUI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∑–æ–Ω—ã

---

## 3.4 –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è

### [ ] –ó–∞–¥–∞—á–∞ 3.4.1: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–±–∏–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞ (–±—ã–ª–æ 4 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –†–∞–∑–¥–µ–ª–∏—Ç—å —Ç—Ä–µ–∫ –Ω–∞ 10-—Å–µ–∫—É–Ω–¥–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–Ω–∞–º–∏–∫–∏
- **–§–∞–π–ª—ã:**
  - `src/audio/segmentation.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –¢—Ä–µ–∫ —Ä–∞–∑–±–∏—Ç –Ω–∞ N —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏

### [ ] –ó–∞–¥–∞—á–∞ 3.4.2: –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å intro/build/drop/outro —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 4 —á–∞—Å–∞ (–±—ã–ª–æ 5 —á–∞—Å–æ–≤)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å energy envelope + onset –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–§–∞–π–ª—ã:**
  - `src/audio/segmentation.py` - –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ detect_structure()
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 3.4.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è drop –º–æ–º–µ–Ω—Ç–æ–≤ –≤ 80%+ purple —Ç—Ä–µ–∫–æ–≤

### [ ] –ó–∞–¥–∞—á–∞ 3.4.3: –í–∑–≤–µ—à–∏–≤–∞—Ç—å purple score –ø–æ –Ω–∞–ª–∏—á–∏—é build/drop —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞ (–±—ã–ª–æ 3 —á–∞—Å–∞)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ï—Å–ª–∏ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —á—ë—Ç–∫–∏–π drop, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å purple score
- **–§–∞–π–ª—ã:**
  - `src/classification/rules.py` - –æ–±–Ω–æ–≤–∏—Ç—å `_score_purple()`
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 3.4.2
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Å–∞:** Purple —Ç—Ä–µ–∫–∏ —Å —á—ë—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è —Å 95%+ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é

---

# –§–ê–ó–ê 4: UX –ò –î–û–í–ï–†–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

**–¶–µ–ª—å:** –°–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏ –∑–∞—Å–ª—É–∂–∏–≤–∞—é—â–µ–π –¥–æ–≤–µ—Ä–∏—è —á–µ—Ä–µ–∑ explainability

**–°—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è:** ~20-25 —á–∞—Å–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** –ü–æ–≤—ã—à–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–∏—è –∏ adoption rate

**–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** ML –æ–±—É—á–µ–Ω–∏–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –ø–æ—ç—Ç–æ–º—É —ç—Ç–∞ —Ñ–∞–∑–∞ —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ UX.

---

## 4.1 Explainability Dashboard

### [ ] –ó–∞–¥–∞—á–∞ 4.1.1: –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å ExplanationGenerator
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø–æ—á–µ–º—É —Ç—Ä–µ–∫ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –∑–æ–Ω—É
- **–§–∞–π–ª—ã:**
  - `src/explanation/generator.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
  ```
  üü™ PURPLE (82% confidence)
  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  ‚úì Tempo: 136 BPM (high)
  ‚úì Drop detected at 1:23 (intense)
  ‚úì Energy variance: 0.48 (very high)
  ‚ö† Spectral centroid: 1850 Hz (slightly low for purple)

  Alternative predictions:
  - GREEN: 15% probability
  - YELLOW: 3% probability
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–æ–Ω—è—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### [ ] –ó–∞–¥–∞—á–∞ 4.1.2: –î–æ–±–∞–≤–∏—Ç—å explanation panel –≤ GUI
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 4 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç –≤ MainWindow –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
- **–§–∞–π–ª—ã:**
  - `src/gui/main_window.py` - –¥–æ–±–∞–≤–∏—Ç—å ExplanationPanel
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 4.1.1
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–µ—Ç–∞–ª–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

### [ ] –ó–∞–¥–∞—á–∞ 4.1.3: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (radar chart)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 5 —á–∞—Å–æ–≤
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å radar chart —Å –∫–ª—é—á–µ–≤—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ —Ç—Ä–µ–∫–∞
- **–§–∞–π–ª—ã:**
  - `src/gui/visualizations.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
  - `src/gui/main_window.py` - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å radar chart
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** matplotlib –∏–ª–∏ plotly
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Visual representation –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ç—Ä–µ–∫–∞

---

## 4.2 User Feedback Loop

### [ ] –ó–∞–¥–∞—á–∞ 4.2.1: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ "Correct Classification" –≤ GUI
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∑–æ–Ω—É –µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –æ—à–∏–±–ª–∞—Å—å
- **–§–∞–π–ª—ã:**
  - `src/gui/main_window.py` - –¥–æ–±–∞–≤–∏—Ç—å feedback buttons
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **UI:** –ö–Ω–æ–ø–∫–∏ "Actually Yellow", "Actually Green", "Actually Purple"
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ª–µ–≥–∫–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É

### [ ] –ó–∞–¥–∞—á–∞ 4.2.2: –°–æ—Ö—Ä–∞–Ω—è—Ç—å feedback –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- **–§–∞–π–ª—ã:**
  - `src/feedback/storage.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
  - `data/feedback/corrections.db` (SQLite –±–∞–∑–∞)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 4.2.1
- **–°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã:**
  ```sql
  CREATE TABLE corrections (
      id INTEGER PRIMARY KEY,
      filepath TEXT,
      predicted_zone TEXT,
      correct_zone TEXT,
      timestamp DATETIME,
      features JSON
  )
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### [ ] –ó–∞–¥–∞—á–∞ 4.2.3: –≠–∫—Å–ø–æ—Ä—Ç feedback –≤ TSV –¥–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞ ‚ö° (–£–ü–†–û–©–ï–ù–û ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π training pipeline!)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ corrections –≤ TSV —Ñ–æ—Ä–º–∞—Ç –¥–ª—è `train_zone_classifier.py`
- **–§–∞–π–ª—ã:**
  - `scripts/export_feedback_to_tsv.py` (—Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 4.2.2
- **–ü—Ä–æ—Ü–µ—Å—Å:**
  ```bash
  # –≠–∫—Å–ø–æ—Ä—Ç feedback
  python scripts/export_feedback_to_tsv.py --output data/feedback.txt

  # –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢!)
  python scripts/train_zone_classifier.py data/feedback.txt \
      --algorithms xgboost \
      --output models/retrained
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** TSV —Å–æ–≤–º–µ—Å—Ç–∏–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º training pipeline
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** Continuous improvement —á–µ—Ä–µ–∑ user feedback

---

## 4.3 Performance Metrics Display

### [ ] –ó–∞–¥–∞—á–∞ 4.3.1: –°–æ–∑–¥–∞—Ç—å Performance Metrics Panel
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–∏—Å—Ç–µ–º—ã (accuracy, confusion matrix)
- **–§–∞–π–ª—ã:**
  - `src/gui/metrics_panel.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 1.7.2 (confusion matrix generation)
- **–û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
  - Overall accuracy
  - Per-zone precision/recall
  - Confusion matrix heatmap
  - Confidence calibration curve
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### [ ] –ó–∞–¥–∞—á–∞ 4.3.2: –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "About Model" –≤ GUI
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏ (–≤–µ—Ä—Å–∏—è, training date, accuracy)
- **–§–∞–π–ª—ã:**
  - `src/gui/main_window.py` - –¥–æ–±–∞–≤–∏—Ç—å About Model dialog
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç (ML models –£–ñ–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ pickle!)
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–Ω–∞–µ—Ç –∫–∞–∫–∞—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

---

## 4.4 Feature Caching System

### [ ] –ó–∞–¥–∞—á–∞ 4.4.1: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å audio file hashing
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—á–∏—Å–ª—è—Ç—å MD5/SHA256 —Ö—ç—à —Ñ–∞–π–ª–∞ –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–§–∞–π–ª—ã:**
  - `src/utils/hashing.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ë—ã—Å—Ç—Ä—ã–π –∏ –Ω–∞–¥—ë–∂–Ω—ã–π hashing

### [ ] –ó–∞–¥–∞—á–∞ 4.4.2: –°–æ–∑–¥–∞—Ç—å SQLite cache –¥–ª—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø–æ file hash
- **–§–∞–π–ª—ã:**
  - `src/cache/feature_cache.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
  - `data/cache/features.db` (SQLite –±–∞–∑–∞)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 4.4.1
- **–°—Ö–µ–º–∞:**
  ```sql
  CREATE TABLE feature_cache (
      file_hash TEXT PRIMARY KEY,
      filepath TEXT,
      features JSON,
      extracted_at DATETIME,
      extractor_version TEXT
  )
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à

### [ ] –ó–∞–¥–∞—á–∞ 4.4.3: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å cache –≤ FeatureExtractor
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 2 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫—ç—à –ø–µ—Ä–µ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **–§–∞–π–ª—ã:**
  - `src/audio/extractors.py` - –¥–æ–±–∞–≤–∏—Ç—å cache lookup
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 4.4.2
- **–õ–æ–≥–∏–∫–∞:**
  ```python
  def extract(filepath):
      file_hash = compute_hash(filepath)
      cached = feature_cache.get(file_hash)
      if cached and cached.version == CURRENT_VERSION:
          return cached.features
      else:
          features = _extract_from_audio(filepath)
          feature_cache.set(file_hash, features)
          return features
  ```
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Cache hit rate > 80% –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** 10-15 —Å–µ–∫ ‚Üí 0.3-0.5 —Å–µ–∫ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ (20-50x speedup!)

### [ ] –ó–∞–¥–∞—á–∞ 4.4.4: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å cache invalidation –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 1 —á–∞—Å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –∫—ç—à –µ—Å–ª–∏ —Ñ–∞–π–ª –∏–∑–º–µ–Ω–∏–ª—Å—è
- **–§–∞–π–ª—ã:**
  - `src/cache/feature_cache.py` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É modification time
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 4.4.2
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã re-analyzed

---

# –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

–≠—Ç–∏ –∑–∞–¥–∞—á–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã, –Ω–æ –º–æ–≥—É—Ç –¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –∫–∞—á–µ—Å—Ç–≤–∞.

---

## 5.1 Genre-Adaptive Thresholds

### [ ] –ó–∞–¥–∞—á–∞ 5.1.1: –î–æ–±–∞–≤–∏—Ç—å genre detection
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 5 —á–∞—Å–æ–≤
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å essentia –∏–ª–∏ ML –º–æ–¥–µ–ª—å –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –∂–∞–Ω—Ä–∞
- **–§–∞–π–ª—ã:**
  - `src/genre/detector.py` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö EDM –∂–∞–Ω—Ä–æ–≤ (techno, house, trance, dubstep, etc.)

### [ ] –ó–∞–¥–∞—á–∞ 5.1.2: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å genre-specific thresholds
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 4 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∂–∞–Ω—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ BPM –ø–æ—Ä–æ–≥–∏
- **–§–∞–π–ª—ã:**
  - `config/genre_thresholds.yaml` (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ñ–∏–≥)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 5.1.1
- **–ü—Ä–∏–º–µ—Ä:**
  ```yaml
  genre_thresholds:
    techno:
      purple_min_bpm: 125  # –ù–∏–∂–µ —á–µ–º default 128
    drum_and_bass:
      purple_min_bpm: 160  # –ù–∞–º–Ω–æ–≥–æ –≤—ã—à–µ
    house:
      purple_min_bpm: 128  # Default
  ```

### [ ] –ó–∞–¥–∞—á–∞ 5.1.3: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å genre-adaptive logic –≤ classifier
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 3 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å genre-specific thresholds –≤–º–µ—Å—Ç–æ universal
- **–§–∞–π–ª—ã:**
  - `src/classification/classifier.py` - –¥–æ–±–∞–≤–∏—Ç—å genre detection + adaptive thresholds
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 5.1.2
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Genre-adaptive mode —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** +5-8% accuracy –Ω–∞ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –∂–∞–Ω—Ä–∞—Ö

---

## 5.2 Deep Learning (Advanced)

### [ ] –ó–∞–¥–∞—á–∞ 5.2.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å mel-spectrogram dataset
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 6 —á–∞—Å–æ–≤
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å mel-—Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –æ–±—É—á–∞—é—â–∏—Ö —Ç—Ä–µ–∫–æ–≤
- **–§–∞–π–ª—ã:**
  - `scripts/generate_spectrograms.py` (—Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç)
  - `data/spectrograms/` (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù—É–∂–µ–Ω ML –¥–∞—Ç–∞—Å–µ—Ç
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** Mel-—Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≤—Å–µ—Ö training —Ç—Ä–µ–∫–æ–≤

### [ ] –ó–∞–¥–∞—á–∞ 5.2.2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CNN classifier (PyTorch/TensorFlow)
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 12 —á–∞—Å–æ–≤
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±—É—á–∏—Ç—å CNN –Ω–∞ mel-—Å–ø–µ–∫—Ç—Ä–æ–≥—Ä–∞–º–º–∞—Ö –¥–ª—è end-to-end classification
- **–§–∞–π–ª—ã:**
  - `src/deep_learning/cnn_model.py` (—Å–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å)
  - `src/deep_learning/train_cnn.py` (—Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 5.2.1
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** ResNet-18 –∏–ª–∏ EfficientNet-B0
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** CNN accuracy > 90% –Ω–∞ test set
- **–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** CNN –æ–±—É—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ZoneTrainer!

### [ ] –ó–∞–¥–∞—á–∞ 5.2.3: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å CNN –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π classifier
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** [ ]
- **–°—Ç–∞—Ç—É—Å:** [ ] TODO
- **–í—Ä–µ–º—è:** 4 —á–∞—Å–∞
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CNN –≤–º–µ—Å—Ç–æ rule-based/XGBoost
- **–§–∞–π–ª—ã:**
  - `src/classification/classifier.py` - –¥–æ–±–∞–≤–∏—Ç—å deep_learning_mode
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ó–∞–¥–∞—á–∞ 5.2.2
- **–ú–µ—Ç—Ä–∏–∫–∞ —É—Å–ø–µ—Ö–∞:** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É traditional ML –∏ deep learning

---

# –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê –ü–†–û–ï–ö–¢–ê

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á –æ–∂–∏–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

## –¢–æ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –ú–µ—Ç–æ–¥ | Baseline (—Å–µ–π—á–∞—Å) | –ü–æ—Å–ª–µ –§–∞–∑—ã 1 | –ü–æ—Å–ª–µ –§–∞–∑—ã 2 | –ü–æ—Å–ª–µ –§–∞–∑—ã 3 | –§–∏–Ω–∞–ª |
|-------|-------------------|--------------|--------------|--------------|-------|
| **Rule-based** | ~70% | 80-85% | 85-88% | 88-92% | 90-92% |
| **ML (XGBoost)** | 85-90% ‚úÖ | 85-90% | 87-92% | 90-93% | 92-94% |
| **ML (Ensemble)** | 88-92% ‚úÖ | 88-92% | 90-93% | 92-95% | 93-96% |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** ML –º–æ–¥–µ–ª–∏ —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ö–æ—Ä–æ—à–æ! –§–æ–∫—É—Å –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–∏ rule-based –¥–ª—è –ª—É—á—à–µ–≥–æ hybrid —Ä–µ–∂–∏–º–∞.

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –°—Ü–µ–Ω–∞—Ä–∏–π | –°–µ–π—á–∞—Å | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π |
|----------|--------|-------------------|
| **–ù–æ–≤—ã–π —Ç—Ä–µ–∫** | 10-15 —Å–µ–∫ | 11-16 —Å–µ–∫ (+0.7 —Å–µ–∫ —Å segmentation) |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–µ–∫** | 10-15 —Å–µ–∫ | <0.5 —Å–µ–∫ (20-50x speedup!) |
| **Batch 100 —Ç—Ä–µ–∫–æ–≤** | 17-25 –º–∏–Ω | 18-27 –º–∏–Ω (–ø–µ—Ä–≤—ã–π —Ä–∞–∑), ~1 –º–∏–Ω (–ø–æ–≤—Ç–æ—Ä–Ω–æ) |

## User Experience
- ‚úÖ ML –æ–±—É—á–µ–Ω–∏–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (XGBoost, NN, Ensemble)
- ‚úÖ CLI tool –¥–ª—è –æ–±—É—á–µ–Ω–∏—è (`train_zone_classifier.py`)
- ‚úÖ Checkpointing –¥–ª—è –¥–æ–ª–≥–∏—Ö —Å–µ—Å—Å–∏–π
- [ ] –û–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–§–∞–∑–∞ 4.1)
- [ ] Top-3 predictions —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏ (–§–∞–∑–∞ 3.3)
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è audio features (–§–∞–∑–∞ 4.1.3)
- [ ] Feedback loop –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è (–§–∞–∑–∞ 4.2)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã (–§–∞–∑–∞ 4.3)

## –î–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π (explainability) ‚Äî –§–∞–∑–∞ 4.1
- [ ] –û–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (confusion matrix, accuracy) ‚Äî –§–∞–∑–∞ 4.3
- [ ] –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ (feedback) ‚Äî –§–∞–∑–∞ 4.2
- ‚úÖ Continuous improvement (–ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ) ‚Äî –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢ —á–µ—Ä–µ–∑ `train_zone_classifier.py`!

---

# –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø (–ó–∞–ø–æ–ª–Ω–∏—Ç—å)

–†–∞—Å—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
- **P1** - –ö—Ä–∏—Ç–∏—á–Ω–æ, –¥–µ–ª–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å
- **P2** - –í–∞–∂–Ω–æ, –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ P1
- **P3** - –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ, –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å –≤—Ä–µ–º—è
- **P4** - Nice to have, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª–æ–Ω–∫—É **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: [ ]** –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏.

---

# –ó–ê–í–ò–°–ò–ú–û–°–¢–ò –ú–ï–ñ–î–£ –§–ê–ó–ê–ú–ò

```
–§–∞–∑–∞ 1 (rule-based –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
  ‚îî‚îÄ> –§–∞–∑–∞ 2 (–Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏) ‚Äî —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è!
        ‚îî‚îÄ> –§–∞–∑–∞ 3 (probabilistic)
              ‚îî‚îÄ> –§–∞–∑–∞ 4 (UX + feedback loop)
                    ‚îî‚îÄ> –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ ML (–£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢!)

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (5.1, 5.2) –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.
```

---

# –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ü–õ–ê–ù–ï (2025-01-23)

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ/—É–ø—Ä–æ—â–µ–Ω–æ:

1. **–§–ê–ó–ê 4 (ML –æ–±—É—á–µ–Ω–∏–µ) –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞** ‚Äî –£–ñ–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `src/training/`!
   - –°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ: ~22-28 —á–∞—Å–æ–≤
   - XGBoost, Neural Network, Ensemble ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
   - CLI tool, checkpointing, grid search ‚Äî –≤—Å—ë –≥–æ—Ç–æ–≤–æ

2. **–ó–∞–¥–∞—á–∞ 4.2.3 —É–ø—Ä–æ—â–µ–Ω–∞** ‚Äî –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ training pipeline –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
   - –ë—ã–ª–æ: "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ" (4 —á–∞—Å–∞)
   - –°—Ç–∞–ª–æ: "–≠–∫—Å–ø–æ—Ä—Ç –≤ TSV –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ pipeline" (2 —á–∞—Å–∞)

3. **–§–∞–∑–∞ 2 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞** ‚Äî –º–Ω–æ–≥–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è
   - Spectral flux: onset_env –£–ñ–ï –µ—Å—Ç—å –≤ tempo extraction
   - Onset strength: —Ç–æ –∂–µ —Å–∞–º–æ–µ
   - HPSS: –£–ñ–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –ø—Ä–æ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 2.4.1** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí +0 —Å–µ–∫ overhead!

4. **–§–∞–∑–∞ 3 —É—Å–∫–æ—Ä–µ–Ω–∞** ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ML –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ Gaussian –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –°—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ: ~4 —á–∞—Å–∞ –Ω–∞ —Å–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö

## üìä –ù–æ–≤—ã–µ –æ—Ü–µ–Ω–∫–∏ –≤—Ä–µ–º–µ–Ω–∏:

| –§–∞–∑–∞ | –°—Ç–∞—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ | –ù–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ | –≠–∫–æ–Ω–æ–º–∏—è |
|------|---------------|--------------|----------|
| –§–∞–∑–∞ 1 | 20-25 —á | 18-22 —á | -2 —á |
| –§–∞–∑–∞ 2 | 18-22 —á | 12-15 —á | -7 —á ‚úÖ |
| –§–∞–∑–∞ 3 | 25-30 —á | 20-25 —á | -5 —á |
| –§–∞–∑–∞ 4 (—Å—Ç–∞—Ä–∞—è ML) | 22-28 —á | **–£–î–ê–õ–ï–ù–ê** | -25 —á ‚úÖ‚úÖ |
| –§–∞–∑–∞ 4 (–Ω–æ–≤–∞—è UX) | 20-25 —á | 20-25 —á | 0 —á |
| –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ | 34 —á | 34 —á | 0 —á |
| **–ò–¢–û–ì–û** | **105-130 —á** | **60-80 —á** | **-40 —á** ‚úÖ‚úÖ |

---

**–û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~60-80 —á–∞—Å–æ–≤ (–±—ã–ª–æ 105-130 —á–∞—Å–æ–≤) ‚Äî —ç–∫–æ–Ω–æ–º–∏—è 40 —á–∞—Å–æ–≤!

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:**
1. –ù–∞—á–∞—Ç—å —Å –§–∞–∑—ã 1 (rule-based –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è) ‚Äî –±—ã—Å—Ç—Ä—ã–µ wins
2. –°—Ä–∞–∑—É —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é 2.4.1 (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ) –ø–µ—Ä–µ–¥ –§–∞–∑–æ–π 2
3. –§–∞–∑–∞ 2 —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º ‚Üí +0 —Å–µ–∫ overhead, –≤—Å–µ –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!
4. –§–∞–∑–∞ 3-4 –ø–æ –∂–µ–ª–∞–Ω–∏—é –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ UX

**ML –æ–±—É—á–µ–Ω–∏–µ:** –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢! –ü—Ä–æ—Å—Ç–æ —Å–æ–±–∏—Ä–∞–π—Ç–µ feedback (–§–∞–∑–∞ 4.2) –∏ –ø–µ—Ä–µ–æ–±—É—á–∞–π—Ç–µ:
```bash
python scripts/train_zone_classifier.py data/feedback.txt --algorithms ensemble
```
